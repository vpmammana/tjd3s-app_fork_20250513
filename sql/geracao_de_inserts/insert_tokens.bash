#!/bin/bash

cd "$(dirname "$0")"

find . -name "frases_temp_*.txt" -exec cat {} \; | awk "NF" | awk 'BEGIN{FS="|"}{print "INSERT INTO tokens (nome_token, id_tipo_token, id_tipo_flexao) VALUES (\""$1"\", (SELECT id_chave_tipo_token FROM tipos_tokens WHERE nome_tipo_token = \""$2"\"),(SELECT id_chave_tipo_flexao FROM tipos_flexoes WHERE nome_tipo_flexao=\""$3"\"));"; print "INSERT INTO tokens (nome_token, id_tipo_token, id_tipo_flexao) VALUES (\""$4"\", (SELECT id_chave_tipo_token FROM tipos_tokens WHERE nome_tipo_token = \""$5"\"),(SELECT id_chave_tipo_flexao FROM tipos_flexoes WHERE nome_tipo_flexao=\""$6"\"));" ; print "INSERT INTO tokens (nome_token, id_tipo_token, id_tipo_flexao) VALUES (\""$7"\", (SELECT id_chave_tipo_token FROM tipos_tokens WHERE nome_tipo_token = \""$8"\"),(SELECT id_chave_tipo_flexao FROM tipos_flexoes WHERE nome_tipo_flexao=\""$9"\"));" ; print "INSERT INTO tokens (nome_token, id_tipo_token, id_tipo_flexao) VALUES (\""$10"\", (SELECT id_chave_tipo_token FROM tipos_tokens WHERE nome_tipo_token = \""$11"\"),(SELECT id_chave_tipo_flexao FROM tipos_flexoes WHERE nome_tipo_flexao=\""$12"\"));" ; print "INSERT INTO tokens (nome_token, id_tipo_token, id_tipo_flexao) VALUES (\""$13"\", (SELECT id_chave_tipo_token FROM tipos_tokens WHERE nome_tipo_token = \""$14"\"),(SELECT id_chave_tipo_flexao FROM tipos_flexoes WHERE nome_tipo_flexao=\""$15"\"));";}'
